-- طريقة آمنة باستخدام NOT EXISTS
SELECT DISTINCT d.ID
FROM depositor d
WHERE NOT EXISTS (
  SELECT 1 FROM borrower b WHERE b.ID = d.ID
);



SELECT c.ID
FROM customer c
WHERE c.customer_street = (
    SELECT customer_street FROM customer WHERE ID = '12345'
  )
  AND c.customer_city = (
    SELECT customer_city FROM customer WHERE ID = '12345'
  )
-- AND c.ID <> '12345'  -- فك التعليق لو تريد استبعاد نفس العميل
;


SELECT DISTINCT br.branch_name
FROM branch br
WHERE EXISTS (
  SELECT 1
  FROM account a
  JOIN depositor d ON a.account_number = d.account_number
  JOIN customer c ON d.ID = c.ID
  WHERE a.branch_name = br.branch_name
    AND c.customer_city = 'Harrison'
);